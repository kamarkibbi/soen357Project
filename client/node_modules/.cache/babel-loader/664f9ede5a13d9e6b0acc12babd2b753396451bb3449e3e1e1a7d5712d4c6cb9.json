{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-namespace */\nimport { padStart } from './helpers';\n/**\n * General date-related utilities.\n * Also handles several incompatibilities between JavaScript and Python\n *\n */\nexport var dateutil;\n(function (dateutil) {\n  dateutil.MONTH_DAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n  /**\n   * Number of milliseconds of one day\n   */\n  dateutil.ONE_DAY = 1000 * 60 * 60 * 24;\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.MAXYEAR>\n   */\n  dateutil.MAXYEAR = 9999;\n  /**\n   * Python uses 1-Jan-1 as the base for calculating ordinals but we don't\n   * want to confuse the JS engine with milliseconds > Number.MAX_NUMBER,\n   * therefore we use 1-Jan-1970 instead\n   */\n  dateutil.ORDINAL_BASE = new Date(Date.UTC(1970, 0, 1));\n  /**\n   * Python: MO-SU: 0 - 6\n   * JS: SU-SAT 0 - 6\n   */\n  dateutil.PY_WEEKDAYS = [6, 0, 1, 2, 3, 4, 5];\n  /**\n   * py_date.timetuple()[7]\n   */\n  dateutil.getYearDay = function (date) {\n    var dateNoTime = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n    return Math.ceil((dateNoTime.valueOf() - new Date(date.getUTCFullYear(), 0, 1).valueOf()) / dateutil.ONE_DAY) + 1;\n  };\n  dateutil.isLeapYear = function (year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n  };\n  dateutil.isDate = function (value) {\n    return value instanceof Date;\n  };\n  dateutil.isValidDate = function (value) {\n    return dateutil.isDate(value) && !isNaN(value.getTime());\n  };\n  /**\n   * @return {Number} the date's timezone offset in ms\n   */\n  dateutil.tzOffset = function (date) {\n    return date.getTimezoneOffset() * 60 * 1000;\n  };\n  /**\n   * @see: <http://www.mcfedries.com/JavaScript/DaysBetween.asp>\n   */\n  dateutil.daysBetween = function (date1, date2) {\n    // The number of milliseconds in one day\n    // Convert both dates to milliseconds\n    var date1ms = date1.getTime() - dateutil.tzOffset(date1);\n    var date2ms = date2.getTime() - dateutil.tzOffset(date2);\n    // Calculate the difference in milliseconds\n    var differencems = date1ms - date2ms;\n    // Convert back to days and return\n    return Math.round(differencems / dateutil.ONE_DAY);\n  };\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.date.toordinal>\n   */\n  dateutil.toOrdinal = function (date) {\n    return dateutil.daysBetween(date, dateutil.ORDINAL_BASE);\n  };\n  /**\n   * @see - <http://docs.python.org/library/datetime.html#datetime.date.fromordinal>\n   */\n  dateutil.fromOrdinal = function (ordinal) {\n    return new Date(dateutil.ORDINAL_BASE.getTime() + ordinal * dateutil.ONE_DAY);\n  };\n  dateutil.getMonthDays = function (date) {\n    var month = date.getUTCMonth();\n    return month === 1 && dateutil.isLeapYear(date.getUTCFullYear()) ? 29 : dateutil.MONTH_DAYS[month];\n  };\n  /**\n   * @return {Number} python-like weekday\n   */\n  dateutil.getWeekday = function (date) {\n    return dateutil.PY_WEEKDAYS[date.getUTCDay()];\n  };\n  /**\n   * @see: <http://docs.python.org/library/calendar.html#calendar.monthrange>\n   */\n  dateutil.monthRange = function (year, month) {\n    var date = new Date(Date.UTC(year, month, 1));\n    return [dateutil.getWeekday(date), dateutil.getMonthDays(date)];\n  };\n  /**\n   * @see: <http://docs.python.org/library/datetime.html#datetime.datetime.combine>\n   */\n  dateutil.combine = function (date, time) {\n    time = time || date;\n    return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds()));\n  };\n  dateutil.clone = function (date) {\n    var dolly = new Date(date.getTime());\n    return dolly;\n  };\n  dateutil.cloneDates = function (dates) {\n    var clones = [];\n    for (var i = 0; i < dates.length; i++) {\n      clones.push(dateutil.clone(dates[i]));\n    }\n    return clones;\n  };\n  /**\n   * Sorts an array of Date or dateutil.Time objects\n   */\n  dateutil.sort = function (dates) {\n    dates.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  };\n  dateutil.timeToUntilString = function (time, utc) {\n    if (utc === void 0) {\n      utc = true;\n    }\n    var date = new Date(time);\n    return [padStart(date.getUTCFullYear().toString(), 4, '0'), padStart(date.getUTCMonth() + 1, 2, '0'), padStart(date.getUTCDate(), 2, '0'), 'T', padStart(date.getUTCHours(), 2, '0'), padStart(date.getUTCMinutes(), 2, '0'), padStart(date.getUTCSeconds(), 2, '0'), utc ? 'Z' : ''].join('');\n  };\n  dateutil.untilStringToDate = function (until) {\n    var re = /^(\\d{4})(\\d{2})(\\d{2})(T(\\d{2})(\\d{2})(\\d{2})Z?)?$/;\n    var bits = re.exec(until);\n    if (!bits) throw new Error(\"Invalid UNTIL value: \".concat(until));\n    return new Date(Date.UTC(parseInt(bits[1], 10), parseInt(bits[2], 10) - 1, parseInt(bits[3], 10), parseInt(bits[5], 10) || 0, parseInt(bits[6], 10) || 0, parseInt(bits[7], 10) || 0));\n  };\n})(dateutil || (dateutil = {}));\nexport default dateutil;","map":{"version":3,"names":["padStart","dateutil","MONTH_DAYS","ONE_DAY","MAXYEAR","ORDINAL_BASE","Date","UTC","PY_WEEKDAYS","getYearDay","date","dateNoTime","getUTCFullYear","getUTCMonth","getUTCDate","Math","ceil","valueOf","isLeapYear","year","isDate","value","isValidDate","isNaN","getTime","tzOffset","getTimezoneOffset","daysBetween","date1","date2","date1ms","date2ms","differencems","round","toOrdinal","fromOrdinal","ordinal","getMonthDays","month","getWeekday","getUTCDay","monthRange","combine","time","getHours","getMinutes","getSeconds","getMilliseconds","clone","dolly","cloneDates","dates","clones","i","length","push","sort","a","b","timeToUntilString","utc","toString","getUTCHours","getUTCMinutes","getUTCSeconds","join","untilStringToDate","until","re","bits","exec","Error","concat","parseInt"],"sources":["../../src/dateutil.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}